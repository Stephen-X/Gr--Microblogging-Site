{% extends "base-pre_login.html" %}
{% comment %}
    Sign-in / Starting page of the grumblr site.
    Check settings.py for location of the global template directory.
{% endcomment %}

{# description in page metadata #}
{% block page_description %}grumblr sign-in page{% endblock %}

{% block page_title %}grumblr | Sign In{% endblock %}

{% load static %}
{% block page_style %}  {# additional styles for this page #}
    <link rel="stylesheet" href="{% static "css/login.min.css" %}">
{% endblock %}

{% block body_subtitle %}Connect with the world.{% endblock %}

{% block body_forms %}  {# forms that user should fill in #}
    <div class="input-box">
        {% comment %}
        The following will be automatically generated by form (go to UserLoginForm for attribute definition):
        <input type="text" name="username" placeholder="Username" autocomplete="username" required autofocus>
        {% endcomment %}
        {{ form.username }}
    </div>
    <div class="input-box">
        {{ form.password }}
    </div>

    <!-- TODO: remember me is not working right now, as it requires that cookies / sessions be used,
               which is out of the assignment's requirement. -->
    <input type="checkbox" id="remember" name="remember" value="true">
    <label for="remember">Remember me</label>

    <div class="btn_container first_btn">
        <button class="btn btn-light button" type="submit">Sign In</button>
    </div>
{% endblock %}

{% block body_redirection %}  {# redirection button of this page #}
    {% comment %}
    if this page is redirected by the Django authentication system (has a next parameter containing the
    original URL in the current URL), pass the next parameter along to the registration page; else just
    access the registration page directly.
    {% endcomment %}
    <div class="btn_container">
        {% if next_url %}
            <a class="btn btn-info button" href="{% url "register" %}?{{ next_url }}">Don't have an account?</a>
        {% else %}
            <a class="btn btn-info button" href="{% url "register" %}">Don't have an account?</a>
        {% endif %}
    </div>
    <div class="btn_container">
        <a class="btn btn-dark button" href="{% url "password_reset" %}">Forget Password?</a>
    </div>
{% endblock %}
